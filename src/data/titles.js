// src/data/titles.js

export const titles = [
  {
    id: 'none',
    name: "à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸‰à¸²à¸¢à¸²", 
    description: "à¸­à¸­à¸à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹à¸¥à¸°à¸—à¸³à¸•à¸²à¸¡à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¹€à¸à¸·à¹ˆà¸­à¸›à¸¥à¸”à¸¥à¹‡à¸­à¸à¸‰à¸²à¸¢à¸²à¹à¸£à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“!",
    bonusStats: {},
    unlockRequirement: "-",
    rarity: "Common"
  },
  {
    id: 'novice_adventurer',
    name: "à¸™à¸±à¸à¸œà¸ˆà¸à¸ à¸±à¸¢à¸¡à¸·à¸­à¹ƒà¸«à¸¡à¹ˆ",
    description: "à¸Ÿà¸·à¹‰à¸™à¸Ÿà¸¹ HP +5 à¸—à¸¸à¸ 5 à¸à¹‰à¸²à¸§à¸—à¸µà¹ˆà¹€à¸”à¸´à¸™ (MaxHP +5)", 
    bonusStats: { maxHp: 5, regenPerSteps: 5 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸à¹‰à¸²à¸§à¹€à¸”à¸´à¸™ 20 à¸à¹‰à¸²à¸§
    unlockRequirement: "ğŸ‘£ 'à¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸«à¸¡à¸·à¹ˆà¸™à¸¥à¸µà¹‰ à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸—à¸µà¹ˆà¸à¸²à¸£à¸à¹‰à¸²à¸§à¹€à¸—à¹‰à¸²à¹ƒà¸«à¹‰à¸šà¹ˆà¸­à¸¢à¸à¸­...'",
    rarity: "Common" 
  },
  {
    id: 'bug_crusher',
    name: "ğŸ à¸œà¸¹à¹‰à¸Šà¸³à¸™à¸²à¸à¹à¸¡à¸¥à¸‡",
    description: "à¹€à¸›à¸¥à¸·à¸­à¸à¹à¸¡à¸¥à¸‡à¸ªà¸­à¸™à¹ƒà¸«à¹‰à¸„à¸¸à¸“à¹à¸à¸£à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™ (DEF +5)",
    bonusStats: { def: 5 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸ªà¸°à¸ªà¸¡à¹„à¸­à¹€à¸—à¸¡à¹à¸¡à¸¥à¸‡à¸„à¸£à¸š 8 à¸Šà¸´à¹‰à¸™
    unlockRequirement: "ğŸ“¦ 'à¹€à¸¨à¸©à¸‹à¸²à¸à¸‚à¸­à¸‡à¸™à¸±à¸à¸£à¸šà¸•à¸±à¸§à¸ˆà¹‰à¸­à¸¢à¸—à¸±à¹‰à¸‡ 8 à¸Šà¸´à¹‰à¸™ à¸ˆà¸°à¸«à¸¥à¹ˆà¸­à¸«à¸¥à¸­à¸¡à¹€à¸›à¹‡à¸™à¹€à¸à¸£à¸²à¸°à¹ƒà¸«à¸¡à¹ˆ...'",
    rarity: "Uncommon"
  },
  {
    id: 'slime_slayer',
    name: "à¸™à¸±à¸à¸¥à¹ˆà¸²à¸§à¸¸à¹‰à¸™",
    description: "à¸„à¸§à¸²à¸¡à¸«à¸™à¸·à¸”à¸—à¸³à¸­à¸°à¹„à¸£à¸„à¸¸à¸“à¹„à¸¡à¹ˆà¹„à¸”à¹‰ (ATK +3, HP +20)",
    bonusStats: { atk: 3, maxHp: 20 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸†à¹ˆà¸²à¸ªà¹„à¸¥à¸¡à¹Œ 30 à¸•à¸±à¸§
    unlockRequirement: "ğŸ’§ 'à¹€à¸¡à¸·à¹ˆà¸­à¸§à¸¸à¹‰à¸™à¸ªà¸µà¸Ÿà¹‰à¸²à¸–à¸¹à¸à¸ªà¸¢à¸šà¹„à¸›à¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¸ªà¸²à¸¡à¸ªà¸´à¸šà¸„à¸£à¸±à¹‰à¸‡ à¸„à¸§à¸²à¸¡à¸«à¸¢à¸¸à¹ˆà¸™à¸à¹‡à¹„à¸¡à¹ˆà¸­à¸²à¸ˆà¸‚à¸§à¸²à¸‡à¸„à¸¸à¸“...'", 
    rarity: "Uncommon"
  },
  {
    id: 'bee_royal_guard',
    name: "ğŸ à¸œà¸¹à¹‰à¸à¸´à¸Šà¸´à¸•à¸£à¸²à¸Šà¸´à¸™à¸µ",
    description: "à¸à¸¥à¸´à¹ˆà¸™à¸­à¸²à¸¢à¸‚à¸­à¸‡à¸£à¸²à¸Šà¸´à¸™à¸µà¸—à¸³à¹ƒà¸«à¹‰à¸„à¸¸à¸“à¸”à¸¹à¸™à¹ˆà¸²à¹€à¸à¸£à¸‡à¸‚à¸²à¸¡ (ATK +8, LUCK +2)",
    bonusStats: { atk: 8, luck: 2 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸›à¸£à¸²à¸šà¸£à¸²à¸Šà¸´à¸™à¸µ 5 à¸„à¸£à¸±à¹‰à¸‡
    unlockRequirement: "ğŸ‘‘ 'à¹€à¸”à¹‡à¸”à¸›à¸µà¸à¸™à¸²à¸‡à¸à¸à¸²à¸«à¹‰à¸²à¸„à¸£à¸² à¹€à¸à¸·à¹ˆà¸­à¸à¸´à¸ªà¸¹à¸ˆà¸™à¹Œà¸§à¹ˆà¸²à¹ƒà¸„à¸£à¸„à¸·à¸­à¸£à¸²à¸Šà¸²à¹à¸«à¹ˆà¸‡à¸—à¸¸à¹ˆà¸‡à¸«à¸à¹‰à¸²...'",
    rarity: "Rare"
  },
  {
    id: 'meadow_master',
    name: "ğŸ’ à¸›à¸£à¸¡à¸²à¸ˆà¸²à¸£à¸¢à¹Œà¸—à¸¸à¹ˆà¸‡à¸«à¸à¹‰à¸²",
    description: "à¸„à¸¸à¸“à¸„à¸·à¸­à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸—à¸¸à¹ˆà¸‡à¸«à¸à¹‰à¸²à¹à¸«à¹ˆà¸‡à¸™à¸µà¹‰ (All Stats +5)",
    bonusStats: { atk: 5, def: 5, maxHp: 20, luck: 5 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸ªà¸°à¸ªà¸¡à¸—à¸¸à¸à¸­à¸¢à¹ˆà¸²à¸‡à¹ƒà¸™ Meadow à¸„à¸£à¸š 100%
    unlockRequirement: "ğŸŒŸ 'à¹€à¸¡à¸·à¹ˆà¸­à¸—à¸¸à¸à¸„à¸§à¸²à¸¡à¸¥à¸±à¸šà¸‚à¸­à¸‡à¸œà¸·à¸™à¸«à¸à¹‰à¸²à¸–à¸¹à¸à¹€à¸›à¸´à¸”à¹€à¸œà¸¢ à¹à¸¥à¸°à¸ªà¸¡à¸šà¸±à¸•à¸´à¸—à¸¸à¸à¸Šà¸´à¹‰à¸™à¸–à¸¹à¸à¸„à¸£à¸­à¸šà¸„à¸£à¸­à¸‡...'",
    rarity: "Legendary"
  },
  {
    id: 'butterfly_chaser',
    name: "ğŸ¦‹ à¸œà¸¹à¹‰à¹„à¸¥à¹ˆà¸•à¸²à¸¡à¸›à¸µà¸à¸ªà¸§à¸£à¸£à¸„à¹Œ",
    description: "à¸„à¸§à¸²à¸¡à¸à¸£à¸´à¹‰à¸§à¹„à¸«à¸§à¸‚à¸­à¸‡à¸œà¸µà¹€à¸ªà¸·à¹‰à¸­à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸„à¸¸à¸“à¹‚à¸Šà¸„à¸”à¸µ (LUCK +8)",
    bonusStats: { luck: 8 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸†à¹ˆà¸²à¸œà¸µà¹€à¸ªà¸·à¹‰à¸­ 20 à¸•à¸±à¸§
    unlockRequirement: "âœ¨ 'à¹€à¸¡à¸·à¹ˆà¸­à¸ˆà¸±à¸šà¸œà¸µà¹€à¸ªà¸·à¹‰à¸­à¹„à¸”à¹‰à¸„à¸£à¸šà¸¢à¸µà¹ˆà¸ªà¸´à¸šà¸•à¸±à¸§ à¸¥à¸°à¸­à¸­à¸‡à¸›à¸µà¸à¸ˆà¸°à¸™à¸³à¸à¸²à¹‚à¸Šà¸„à¸¥à¸²à¸ à¸¡à¸²à¸ªà¸¹à¹ˆà¸„à¸¸à¸“...'",
    rarity: "Uncommon"
  },
  {
    id: 'carrot_thief',
    name: "ğŸ¥• à¸ˆà¸­à¸¡à¹‚à¸ˆà¸£à¹à¸„à¸£à¸­à¸—",
    description: "à¸à¸¥à¸±à¸‡à¸‚à¸²à¸‚à¸­à¸‡à¸à¸£à¸°à¸•à¹ˆà¸²à¸¢à¸—à¸³à¹ƒà¸«à¹‰à¸„à¸¸à¸“à¸­à¸¶à¸”à¸‚à¸¶à¹‰à¸™ (MaxHP +50)",
    bonusStats: { maxHp: 50 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸ªà¸°à¸ªà¸¡à¹à¸„à¸£à¸­à¸—à¸›à¹ˆà¸²à¸„à¸£à¸š 10 à¸Šà¸´à¹‰à¸™ (à¸«à¸£à¸·à¸­à¸†à¹ˆà¸²à¸à¸£à¸°à¸•à¹ˆà¸²à¸¢ 15 à¸•à¸±à¸§)
    unlockRequirement: "ğŸ¾ 'à¸£à¸­à¸¢à¹€à¸—à¹‰à¸²à¸‚à¸­à¸‡à¹€à¸ˆà¹‰à¸²à¸«à¸¹à¸¢à¸²à¸§à¸ªà¸´à¸šà¸«à¹‰à¸²à¸„à¸¹à¹ˆ à¸ˆà¸°à¸¡à¸­à¸šà¸à¸¥à¸±à¸‡à¸Šà¸µà¸§à¸´à¸•à¸—à¸µà¹ˆà¸¢à¸·à¸™à¸¢à¸²à¸§à¹ƒà¸«à¹‰à¹à¸à¹ˆà¸„à¸¸à¸“...'",
    rarity: "Uncommon"
  },
  {
    id: 'sprite_friend',
    name: "ğŸŒ¸ à¸¡à¸´à¸•à¸£à¹à¸—à¹‰à¹à¸«à¹ˆà¸‡à¸ à¸¹à¸•",
    description: "à¸à¸£à¸ˆà¸²à¸à¸ à¸¹à¸•à¸”à¸­à¸à¹„à¸¡à¹‰à¸Šà¹ˆà¸§à¸¢à¹€à¸à¸´à¹ˆà¸¡à¸à¸¥à¸±à¸‡à¹‚à¸ˆà¸¡à¸•à¸µ (ATK +10)",
    bonusStats: { atk: 10 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸ªà¸°à¸ªà¸¡à¹„à¸­à¹€à¸—à¸¡à¸ à¸¹à¸•à¸”à¸­à¸à¹„à¸¡à¹‰à¸„à¸£à¸š 8 à¸Šà¸´à¹‰à¸™
    unlockRequirement: "âœ¨ 'à¸£à¸§à¸šà¸£à¸§à¸¡à¸‚à¸­à¸‡à¸‚à¸§à¸±à¸à¸ˆà¸²à¸à¹€à¸«à¸¥à¹ˆà¸²à¸ à¸¹à¸•à¸—à¸±à¹‰à¸‡à¹à¸›à¸”à¸Šà¸´à¹‰à¸™ à¹€à¸à¸·à¹ˆà¸­à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸³à¸™à¸§à¸¢à¸à¸£...'",
    rarity: "Rare"
  },
  {
    id: 'guardian_breaker',
    name: "ğŸ›¡ï¸ à¸œà¸¹à¹‰à¸—à¸³à¸¥à¸²à¸¢à¸›à¸£à¸²à¸à¸²à¸£à¸”à¹‰à¸§à¸‡",
    description: "à¸„à¸¸à¸“à¸œà¹ˆà¸²à¸™à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸ˆà¸²à¸à¸¡à¸´à¸™à¸´à¸šà¸­à¸ª (DEF +15, MaxHP +30)",
    bonusStats: { def: 15, maxHp: 30 },
    // ğŸ” à¸„à¸³à¹ƒà¸šà¹‰: à¸›à¸£à¸²à¸šà¸¡à¸´à¸™à¸´à¸šà¸­à¸ªà¸”à¹‰à¸§à¸‡ 3 à¸„à¸£à¸±à¹‰à¸‡
    unlockRequirement: "âš”ï¸ 'à¹‚à¸„à¹ˆà¸™à¸¥à¹‰à¸¡à¸­à¸‡à¸„à¸£à¸±à¸à¸©à¹Œà¸œà¸¹à¹‰à¹à¸‚à¹‡à¸‡à¹à¸à¸£à¹ˆà¸‡à¸ªà¸²à¸¡à¸„à¸£à¸² à¹€à¸à¸·à¹ˆà¸­à¸à¸´à¸ªà¸¹à¸ˆà¸™à¹Œà¸„à¸§à¸²à¸¡à¹à¸‚à¹‡à¸‡à¹à¸à¸£à¹ˆà¸‡à¸‚à¸­à¸‡à¹à¸‚à¸™à¸„à¸¸à¸“...'",
    rarity: "Epic"
  }

];

// âœ… à¸­à¸±à¸›à¹€à¸”à¸•à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸Šà¹‡à¸„à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚ (à¹€à¸à¸´à¹ˆà¸¡à¸¡à¸­à¸™à¸ªà¹€à¸•à¸­à¸£à¹Œà¹ƒà¸«à¸¡à¹ˆ)
export const checkTitleUnlock = (titleId, stats, collection) => {
  const steps = stats?.totalSteps || 0;
  const kills = stats?.monsterKills || {};

  switch (titleId) {
    case 'novice_adventurer': return steps >= 20; 
    case 'bug_crusher': return (collection?.['bug']?.length >= 8);
    case 'slime_slayer': return (kills?.['slime'] >= 30);
    case 'bee_royal_guard': return (kills?.['meadow_queen_bee'] >= 5);
    
    // âœ… à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¹ƒà¸«à¸¡à¹ˆ
    case 'butterfly_chaser': return (kills?.['meadow_butterfly'] >= 20);
    case 'carrot_thief': return (kills?.['plump_rabbit'] >= 15);
    case 'sprite_friend': return (collection?.['flower_sprite']?.length >= 8);
    case 'guardian_breaker': return (kills?.['forest_guardian_bug'] >= 3);

    case 'meadow_master':
      // à¸­à¸±à¸›à¹€à¸”à¸•à¹ƒà¸«à¹‰à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡à¸¡à¸­à¸™à¸ªà¹€à¸•à¸­à¸£à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™ Meadow (à¸£à¸§à¸¡à¸•à¸±à¸§à¹ƒà¸«à¸¡à¹ˆ)
      const meadowIds = [
        'bug', 'capterpillar', 'grasshopper', 'slime', 
        'meadow_butterfly', 'plump_rabbit', 'flower_sprite', 
        'forest_guardian_bug', 'meadow_queen_bee'
      ];
      return meadowIds.every(id => collection?.[id]?.length >= 8);
      
    default: return false;
  }
};